# ü§ñ Investment AI Assistant

> **–û–¥–Ω–∞ –º–æ–¥–µ–ª—å –¥–ª—è –≤—Å–µ–≥–æ —Ä—ã–Ω–∫–∞ MOEX** ‚Äî –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![ML](https://img.shields.io/badge/ML-Universal_Model-brightgreen.svg)](GUIDE.md)
[![Deep Learning](https://img.shields.io/badge/Deep_Learning-LSTM%2FGRU-orange.svg)](GUIDE.md)

---

## üí° –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

**Investment AI Assistant** ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–æ–¥–Ω—É —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å** –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è **–≤—Å–µ—Ö –∞–∫—Ü–∏–π** –Ω–∞ –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –±–∏—Ä–∂–µ.

### –ü–æ—á–µ–º—É —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å?

‚úÖ **–û–±—É—á–∞–µ—Ç—Å—è –Ω–∞ –≤—Å—ë–º —Ä—ã–Ω–∫–µ** ‚Äî –Ω–∞—Ö–æ–¥–∏—Ç –æ–±—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã  
‚úÖ **–ë–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö** ‚Äî –≤—ã—à–µ —Ç–æ—á–Ω–æ—Å—Ç—å  
‚úÖ **–ü—Ä–æ—â–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∞** ‚Äî –æ–¥–Ω–∞ –º–æ–¥–µ–ª—å –≤–º–µ—Å—Ç–æ —Å–æ—Ç–µ–Ω  
‚úÖ **–ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–≥–Ω–æ–∑—ã** ‚Äî –¥–ª—è –≤—Å–µ—Ö –∞–∫—Ü–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ  

---

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìä –î–∞–Ω–Ω—ã–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ MOEX —á–µ—Ä–µ–∑ `moexalgo`
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã: MA, RSI, MACD, Bollinger Bands, Stochastic, ATR, OBV, VWAP
- –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ)
- SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### ü§ñ –ú–æ–¥–µ–ª–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
- **Random Forest** ‚Äî –±—ã—Å—Ç—Ä–æ, –ø—Ä–æ—Å—Ç–æ
- **Gradient Boosting** ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
- **LSTM** ‚Äî Deep Learning –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ (üöÄ GPU: 20x –±—ã—Å—Ç—Ä–µ–µ!)
- **GRU** ‚Äî –±—ã—Å—Ç—Ä–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ LSTM (üöÄ GPU: 25x –±—ã—Å—Ç—Ä–µ–µ!)

### üìà –ü–æ—Ä—Ç—Ñ–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è (MPT)
- –°—Ç—Ä–∞—Ç–µ–≥–∏–∏: Max Sharpe, Min Variance, Risk Parity, Equal Weight
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞
- –†–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç: VaR, CVaR, MDD, Sharpe Ratio

### ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è
- –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ ML –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–∫—É–ø–∫–∞/–ø—Ä–æ–¥–∞–∂–∞/—É–¥–µ—Ä–∂–∞–Ω–∏–µ
- Stop-loss –∏ Take-profit
- –£—á—ë—Ç –±–∞–ª–∞–Ω—Å–∞, –∫–æ–º–∏—Å—Å–∏–π, —Ä–∏—Å–∫–æ–≤
- –°–∏–º—É–ª—è—Ü–∏—è –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ ML –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (NEW!)
- **Feature Engineering** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (+10-15% —Ç–æ—á–Ω–æ—Å—Ç–∏)
- **Feature Selection** ‚Äî –æ—Ç–±–æ—Ä –ª—É—á—à–∏—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (+5-10% —Ç–æ—á–Ω–æ—Å—Ç–∏)
- **Hyperparameter Tuning** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (+5-15% —Ç–æ—á–Ω–æ—Å—Ç–∏)
- **Walk-Forward Backtesting** ‚Äî —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –º–æ–¥–µ–ª–µ–π

### üß™ –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥
- Walk-Forward –∞–Ω–∞–ª–∏–∑
- Monte Carlo —Å–∏–º—É–ª—è—Ü–∏–∏
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏: Sharpe, Sortino, Calmar, Win Rate
- –û—Ç—á—ë—Ç—ã –∏ –≥—Ä–∞—Ñ–∏–∫–∏

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <your-repo-url>
cd cuesor

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: Deep Learning
pip install tensorflow>=2.12.0

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ (10-100x –±—ã—Å—Ç—Ä–µ–µ!)
pip install tensorflow[and-cuda]
python check_gpu.py  # –ü—Ä–æ–≤–µ—Ä–∫–∞ GPU
```

> üöÄ **GPU –£—Å–∫–æ—Ä–µ–Ω–∏–µ:** Deep Learning –º–æ–¥–µ–ª–∏ (LSTM/GRU) —Ä–∞–±–æ—Ç–∞—é—Ç –≤ 10-100 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ —Å GPU!  
> üìñ **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:** —Å–º. `GPU_SETUP.md` –∏–ª–∏ `GPU_QUICKSTART.txt`

### 2Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –∑–∞ 7 —à–∞–≥–æ–≤

```bash
# –®–∞–≥ 1: –°–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö –∞–∫—Ü–∏–π MOEX
python 1_collect_all_stocks.py

# –®–∞–≥ 2: –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
python 2_calculate_indicators.py

# –®–∞–≥ 3: –û–±—É—á–∏—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å
python 3_train_universal_model.py

# –®–∞–≥ 4: –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—ã
python 4_predict_stocks.py

# –®–∞–≥ 5: –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ –º–æ–¥–µ–ª–∏
python 5_backtest_model.py

# –®–∞–≥ 6: –°–æ–∑–¥–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å
python 6_portfolio_optimization.py

# –®–∞–≥ 7: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è (—Å–∏–º—É–ª—è—Ü–∏—è)
python 7_portfolio_trading.py

# –®–∞–≥ 8: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –æ–±—É—á–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# –£–ª—É—á—à–∏—Ç–µ —Ç–æ—á–Ω–æ—Å—Ç—å —Å –ø–æ–º–æ—â—å—é Feature Engineering, Selection –∏ Tuning
python 8_train_advanced_model.py
```

### 3Ô∏è‚É£ –†–µ–∑—É–ª—å—Ç–∞—Ç

```
üèÜ –¢–û–ü-10 –ê–ö–¶–ò–ô –ü–û –ü–†–û–ì–ù–û–ó–£ –†–û–°–¢–ê

–¢–∏–∫–µ—Ä    –¢–µ–∫—É—â–∞—è    –ü—Ä–æ–≥–Ω–æ–∑    –ò–∑–º–µ–Ω–µ–Ω–∏–µ    –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
SBER     280.50 ‚ÇΩ   295.20 ‚ÇΩ   +5.23%       üü¢ BUY
GAZP     185.30 ‚ÇΩ   191.80 ‚ÇΩ   +3.51%       üü° HOLD
LKOH     6450.00 ‚ÇΩ  6520.00 ‚ÇΩ  +1.09%       üü° HOLD
```

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ì–ª–∞–≤–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
üìò **[GUIDE.md](GUIDE.md)** ‚Äî –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏—Å—Ç–µ–º–µ

### –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥–∞–π–¥—ã
- üìä **[BACKTESTING_GUIDE.md](docs/guides/BACKTESTING_GUIDE.md)** ‚Äî –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
- üíº **[PORTFOLIO_GUIDE.md](docs/guides/PORTFOLIO_GUIDE.md)** ‚Äî –ø–æ—Ä—Ç—Ñ–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- üîÑ **[REBALANCING_INFO.md](docs/phase2/REBALANCING_INFO.md)** ‚Äî —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è
- üìà **[INCREMENTAL_UPDATE_INFO.md](docs/guides/INCREMENTAL_UPDATE_INFO.md)** ‚Äî –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- üìù **[CHANGELOG.md](docs/CHANGELOG.md)** ‚Äî –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
cuesor/
‚îú‚îÄ‚îÄ üìä –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ 1_collect_all_stocks.py      # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ MOEX
‚îÇ   ‚îî‚îÄ‚îÄ 2_calculate_indicators.py    # –†–∞—Å—á—ë—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ ü§ñ –ú–æ–¥–µ–ª—å –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã
‚îÇ   ‚îú‚îÄ‚îÄ 3_train_universal_model.py   # –û–±—É—á–µ–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ 4_predict_stocks.py          # –ü—Ä–æ–≥–Ω–æ–∑—ã –¥–ª—è –≤—Å–µ—Ö –∞–∫—Ü–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ 5_backtest_model.py          # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ üíº –ü–æ—Ä—Ç—Ñ–µ–ª—å
‚îÇ   ‚îî‚îÄ‚îÄ 6_portfolio_optimization.py  # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è
‚îÇ
‚îú‚îÄ‚îÄ üß† –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ core/                        # –ë–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ data/                        # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ analysis/                    # –ê–Ω–∞–ª–∏–∑ –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ predict/                     # ML –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ portfolio/                   # –ü–æ—Ä—Ç—Ñ–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ backtesting/                 # –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥
‚îÇ
‚îî‚îÄ‚îÄ üíæ –î–∞–Ω–Ω—ã–µ
    ‚îú‚îÄ‚îÄ data/market.db               # SQLite –±–∞–∑–∞
    ‚îú‚îÄ‚îÄ models/                      # –û–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
    ‚îú‚îÄ‚îÄ backtest_reports/            # –û—Ç—á—ë—Ç—ã –±—ç–∫—Ç–µ—Å—Ç–æ–≤
    ‚îî‚îÄ‚îÄ backtest_charts/             # –ì—Ä–∞—Ñ–∏–∫–∏
```

---

## üéì –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
# –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (–±—ã—Å—Ç—Ä–æ)
python 1_collect_all_stocks.py --mode incremental
python 2_calculate_indicators.py --mode incremental

# –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—ã
python 4_predict_stocks.py
```

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ

```bash
# –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
python 1_collect_all_stocks.py --mode incremental
python 2_calculate_indicators.py --mode incremental

# –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å
python 3_train_universal_model.py

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å
python 5_backtest_model.py

# –†–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è
python 6_portfolio_optimization.py
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π API

```python
from core import Config, Logger
from predict import UniversalModelTrainer

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
config = Config()
logger = Logger.get_logger("MyApp")
trainer = UniversalModelTrainer(config, logger)

# –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
quotes, indicators = trainer.load_all_data()

# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞
X, y, features = trainer.prepare_dataset(quotes, indicators)

# –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
model_data = trainer.train(X, y, model_type='gradient_boosting')

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
model_path = trainer.save_model(model_data)
print(f"–ú–æ–¥–µ–ª—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞: {model_path}")
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –û—Ç–ª–∏—á–Ω–æ | –•–æ—Ä–æ—à–æ | –°—Ä–µ–¥–Ω–µ | –ü–ª–æ—Ö–æ |
|---------|---------|--------|--------|-------|
| **R¬≤** | > 0.7 | 0.5-0.7 | 0.3-0.5 | < 0.3 |
| **MAE** | < 1% | 1-3% | 3-5% | > 5% |
| **Sharpe** | > 2.0 | 1.0-2.0 | 0.5-1.0 | < 0.5 |
| **Win Rate** | > 60% | 50-60% | 40-50% | < 40% |

---

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ
- Python 3.8+
- 4 GB RAM
- 1 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ
- Python 3.10+
- 8 GB RAM
- GPU –¥–ª—è Deep Learning (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–û—Å–Ω–æ–≤–Ω—ã–µ:
- `pandas` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
- `numpy` ‚Äî –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- `scikit-learn` ‚Äî ML –º–æ–¥–µ–ª–∏
- `moexalgo` ‚Äî API MOEX
- `pandas-ta` ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- `scipy` ‚Äî –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:
- `tensorflow` ‚Äî Deep Learning (LSTM, GRU)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
pip install -r requirements.txt
```

---

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
–ó–∞–ø—É—Å–∫–∞–π—Ç–µ **–µ–∂–µ–¥–Ω–µ–≤–Ω–æ** –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Ç–æ—Ä–≥–æ–≤:
```bash
python 1_collect_all_stocks.py --mode incremental
python 2_calculate_indicators.py --mode incremental
```

### 2. –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
–ü–µ—Ä–µ–æ–±—É—á–∞–π—Ç–µ **–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ** –∏–ª–∏ –∫–æ–≥–¥–∞:
- –ò–∑–º–µ–Ω–∏–ª–∞—Å—å —Å–∏—Ç—É–∞—Ü–∏—è –Ω–∞ —Ä—ã–Ω–∫–µ
- R¬≤ —É–ø–∞–ª –Ω–∏–∂–µ 0.4
- –ü—Ä–æ—à–ª–æ > 1 –º–µ—Å—è—Ü–∞

```bash
python 3_train_universal_model.py
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
–ó–∞–ø—É—Å–∫–∞–π—Ç–µ **–µ–∂–µ–¥–Ω–µ–≤–Ω–æ** –∏–ª–∏ **–ø–µ—Ä–µ–¥ —Ç–æ—Ä–≥–∞–º–∏**:
```bash
python 4_predict_stocks.py
```

### 4. –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥
–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ç–æ—á–Ω–æ—Å—Ç—å **–ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º** –º–æ–¥–µ–ª–∏:
```bash
python 5_backtest_model.py
```

### 5. –†–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è
–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∏ —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä—É–π—Ç–µ **–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ** –∏–ª–∏ **–µ–∂–µ–º–µ—Å—è—á–Ω–æ**:
```bash
python 6_portfolio_optimization.py
```

### 6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è
–°–∏–º—É–ª–∏—Ä—É–π—Ç–µ —Ç–æ—Ä–≥–æ–≤–ª—é –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö **–ø–µ—Ä–µ–¥ –∂–∏–≤–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ–π**:
```bash
python 7_portfolio_trading.py
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏** (Classical ML / Deep Learning)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ ML
- ‚úÖ Stop-loss (-10%) –∏ Take-profit (+25%)
- ‚úÖ –£—á—ë—Ç –∫–æ–º–∏—Å—Å–∏–π (0.3%)
- ‚úÖ –ú–∞–∫—Å–∏–º—É–º 10 –ø–æ–∑–∏—Ü–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- ‚úÖ –ú–∞–∫—Å–∏–º—É–º 15% –∫–∞–ø–∏—Ç–∞–ª–∞ –Ω–∞ –ø–æ–∑–∏—Ü–∏—é
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: Sharpe, Sortino, Win Rate, Max Drawdown
- ‚úÖ **–ì—Ä–∞—Ñ–∏–∫–∏ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫** —Å —Ç–æ—á–∫–∞–º–∏ –ø–æ–∫—É–ø–∫–∏/–ø—Ä–æ–¥–∞–∂–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–∫–µ—Ä–∞
- ‚úÖ **CSV —Ñ–∞–π–ª—ã** —Å–æ –≤—Å–µ–º–∏ —Å–¥–µ–ª–∫–∞–º–∏, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –¥–∞—Ç–∞–º

---

## üí° –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### ‚úÖ –î–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ú–∏–Ω–∏–º—É–º **10-15 –∞–∫—Ü–∏–π** –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ
- –†–∞–∑–Ω—ã–µ —Å–µ–∫—Ç–æ—Ä—ã —ç–∫–æ–Ω–æ–º–∏–∫–∏
- –ù–µ –±–æ–ª–µ–µ **15-20%** –Ω–∞ –æ–¥–Ω—É –∞–∫—Ü–∏—é

### ‚úÖ –†–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç
- Stop-loss –Ω–∞ –∫–∞–∂–¥—É—é –ø–æ–∑–∏—Ü–∏—é
- –ú–∞–∫—Å–∏–º—É–º **2%** –æ—Ç –∫–∞–ø–∏—Ç–∞–ª–∞ –Ω–∞ —Å–¥–µ–ª–∫—É
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ VaR –∏ Drawdown

### ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- –î–∞–Ω–Ω—ã–µ: **–µ–∂–µ–¥–Ω–µ–≤–Ω–æ**
- –ú–æ–¥–µ–ª—å: **–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ**
- –ü–æ—Ä—Ç—Ñ–µ–ª—å: **–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ/–µ–∂–µ–º–µ—Å—è—á–Ω–æ**

### ‚úÖ –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –º–æ–¥–µ–ª—å **–ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º**
- Walk-Forward –∞–Ω–∞–ª–∏–∑
- Out-of-sample —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Monte Carlo —Å–∏–º—É–ª—è—Ü–∏–∏

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ"
```bash
python 1_collect_all_stocks.py
```

### –û—à–∏–±–∫–∞: "–ù–µ—Ç –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏"
```bash
python 3_train_universal_model.py
```

### –û—à–∏–±–∫–∞: "TensorFlow –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
```bash
pip install tensorflow>=2.12.0
```
–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Random Forest / Gradient Boosting (–Ω–µ —Ç—Ä–µ–±—É—é—Ç TensorFlow).

### –ù–∏–∑–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ (R¬≤ < 0.3)
1. –°–æ–±–µ—Ä–∏—Ç–µ –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å (GB ‚Üí LSTM)
3. –ü–µ—Ä–µ–æ–±—É—á–∏—Ç–µ –Ω–∞ —Å–≤–µ–∂–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: **[GUIDE.md](GUIDE.md)**

---

## üìö –†–µ—Å—É—Ä—Å—ã

### API –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- [moexalgo](https://github.com/moexalgo/moexalgo) ‚Äî API MOEX
- [TensorFlow](https://www.tensorflow.org/) ‚Äî Deep Learning
- [scikit-learn](https://scikit-learn.org/) ‚Äî Machine Learning
- [pandas-ta](https://github.com/twopirllc/pandas-ta) ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

### –¢–µ–æ—Ä–∏—è
- **Modern Portfolio Theory (MPT)** ‚Äî –ú–∞—Ä–∫–æ–≤–∏—Ü
- **LSTM** ‚Äî Long Short-Term Memory networks
- **Walk-Forward Analysis** ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º

---

## ‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**
- –°–∏—Å—Ç–µ–º–∞ —è–≤–ª—è–µ—Ç—Å—è **–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –∞–Ω–∞–ª–∏–∑–∞**, –∞ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –ø—Ä–∏–±—ã–ª–∏
- –í—Å–µ–≥–¥–∞ –µ—Å—Ç—å **—Ä–∏—Å–∫** —É–±—ã—Ç–∫–æ–≤ –Ω–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ä—ã–Ω–∫–∞—Ö
- –ü—Ä–æ—à–ª—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã **–Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç** –±—É–¥—É—â–∏–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π **—Ä–∏—Å–∫**
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è **–¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è** –∏ **—Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç**

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License. –°–º. [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

---

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è:
- üêõ –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- üí° –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- üìù –£–ª—É—á—à–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- üîß Pull requests

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

- üìò –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [docs/GUIDE.md](docs/GUIDE.md) –∏–ª–∏ [docs/README.md](docs/README.md) (–Ω–∞–≤–∏–≥–∞—Ü–∏—è)
- üöÄ GPU –£—Å–∫–æ—Ä–µ–Ω–∏–µ: [docs/guides/gpu/](docs/guides/gpu/)
- üêõ –ë–∞–≥–∏: GitHub Issues
- üí¨ –û–±—Å—É–∂–¥–µ–Ω–∏—è: GitHub Discussions

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** –ù–æ—è–±—Ä—å 2025  
**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –≤—Å–µ–≥–æ —Ä—ã–Ω–∫–∞ üéØ

---

## üéâ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫
python 1_collect_all_stocks.py
python 2_calculate_indicators.py
python 3_train_universal_model.py
python 4_predict_stocks.py
```

**üéì –ß–∏—Ç–∞–π—Ç–µ:** [GUIDE.md](GUIDE.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π!
